<!--
    FreeBSD Japanese Documentation Project

    $FreeBSD$

    Original revision: 1.592
-->

<articleinfo>
  <title>&os;/&arch; &release.current; リリースノート</title>

  <corpauthor>FreeBSD プロジェクト</corpauthor>

  <pubdate>$FreeBSD$</pubdate>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <year>2002</year>
    <year>2003</year>
    <holder role="mailto:doc@FreeBSD.org">FreeBSD ドキュメンテーション
    プロジェクト</holder>
  </copyright>

  <abstract>
    <para>この &os; &release.current; 用リリースノートには、
<![ %include.historic; [
      &release.prev; 以降の &os; ベースシステムに対する変更点の概要
      が含まれています。
]]>
<![ %no.include.historic; [
      &release.branch; 開発ブランチの &os; ベースシステムに対する最近の
      変更点の概要が含まれています。
]]>
      &os; カーネルおよびユーザーランドにおける変更点、
      前のリリース以降に発行されたセキュリティ勧告が書かれています。
      また、アップグレードの際の注意点も載せてあります。</para>
  </abstract>
</articleinfo>

<sect1 id="intro">
  <title>はじめに</title>

  <para>この文書は &arch.print; ハードウェアプラットフォーム用
    &os; &release.current; のリリースノートです。
    これは &os; に最近追加、変更、削除された機能について解説したものであり、
    &os; の前のバージョンからのアップグレードについても言及しています。</para>

<![ %release.type.snapshot [

  <para>このリリースノートが対応する &release.type; 配布物は、
    &release.branch; 開発ブランチの &release.prev; から
    将来の &release.next; の間に位置します。
    このブランチのあらかじめコンパイルされたバイナリ &release.type;
    配布物は <ulink url="&release.url;"></ulink> に公開されています。
  </para>

]]>

<![ %release.type.release [

  <para>この &os; &release.current; 配布物は &release.type; 配布物です。
    この配布物はあらゆるミラーの <ulink url="&release.url;"></ulink>
    で見つけることができます。
    この (もしくは他の) &os; の &release.type; 配布物を取得する方法
    は
    <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/">FreeBSD ハンドブック</ulink>
    の
    <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/mirrors.html">
      付録 <quote>FreeBSD を取得する</quote></ulink>
    を参照してください。</para>

]]>

  <para>&os; &release.type; の &release.branch;
    系列をはじめて利用するユーザは、まず <quote>&os;
    &release.current; 初期利用者の手引き</quote> をご覧ください。
    この文書は (&os; 配布ファイルの一部として、
    もしくは &os; ウェブサイト上の)
    リリースノートと同じ場所に置かれており、
    &os; 4-STABLE
    開発ブランチをベースにしたリリースと比較して、
    &os; &release.current;
    を利用する際の利点と欠点について重要な情報が書かれています。</para>

  <para>&os; をインストールする前に、必ずそのリリースの
    errata 文書をお読みください。
    errata 文書には、リリース工程の最後やリリース後に判明した
    <quote>最新の</quote> 情報が書かれています。
    通常これに含まれているのは、既知のバグ、セキュリティ勧告、
    文書の訂正です。&os; &release.current;
    の最新版 errata 文書は、&os; ウェブサイトから入手できます。</para>

</sect1>

<sect1 id="new">
  <title>更新情報</title>

  <para>この節では
<![ %include.historic; [
    &release.prev; 以降に新たに追加・変更された
    ユーザに影響する機能について説明します。
    一般的に、ここに書かれている変更点のうち &merged;
    という印の付いていないものは &release.branch; に固有のものです。
]]>
<![ %no.include.historic; [
    &release.prev; 以降に新たに追加・変更された
    ユーザに影響する機能について説明します。
    これには他のブランチ (&os; &release.prev.historic; 以降) へと
    最近マージされた機能に加えて、&release.branch; ブランチ
    に固有の項目も含まれます。
]]>
  </para>

  <para>リリースノートには、
    &release.prev.historic; 以降に出されたセキュリティ勧告、
    新しいドライバやハードウェア対応、
    新しいコマンドやオプション、重要なバグフィックスや寄贈ソフトウェア
    のアップグレード、
    ports/packages やリリースエンジニアリング工程に関する大きな変更点が
    書かれています。リリースノートには、リリース間に加えられた
    &os; の全変更点が書かれているわけではありません。
    記載されている情報は、セキュリティ勧告、ユーザに影響のある変更、
    既存の構造に対する大きな改良点が中心としたものです。</para>

  <para>&os; に加えられた変更点のうち、
    スペースの都合上ここに書かれていないものも多数存在します。
    それらはたとえば文書の修正や改良、ごく影響の小さいバグの修正、
    監査で見つかったセキュリティ上好ましくないスタイルで書かれたコードの修正、
    ソースコードの整理などです。</para>

  <sect2 id="security">
    <title>セキュリティ勧告</title>

    <para></para>
  </sect2>

  <sect2 id="kernel">
    <title>カーネルの変更点</title>

    <para>カーネルにソフトウェアウォッチドッグ機能が実装されました。
      詳しくは &man.watchdog.4; と
      &man.watchdogd.8; をご覧ください。</para>

    <!-- Above this line, sort kernel changes by manpage/keyword-->

    <sect3 id="proc">
      <title>プラットフォーム固有のハードウェアの対応状況</title>

      <para arch="i386">単一プロセッサ構成の i386 プラットフォームで、
        常に PCI 割り込みが使われるようになりました。
        これにより、今まで使用できなかった (特にラップトップの) PCI
        カードが使用できるようになっています。</para>

      <para arch="i386">PAE 機能をある特定の量のメモリを搭載しているマシンで有効にした場合に、
        カーネルがパニックさせる原因となる整数演算のオーバフローが修正されました。</para>

      <para arch="i386">AT キーボードが接続されていない場合にも、
        コンソールの初期化時に &man.atkbd.4; が
        AT キーボードを登録してしまうというバグが修正されました。
        これにより、USB キーボードのみが接続されているシステムで
        <command>kbdcontrol -k /dev/kbd1</command>
        を実行する必要はなくなっています。</para>
    </sect3>

    <sect3 id="boot">
      <title>ブートローダの変更</title>

      <para></para>

       <!-- Above this line, order bootloader changes by keyword-->

    </sect3>

    <sect3 id="net-if">
      <title>ネットワークインターフェイスの対応状況</title>

      <para>&man.ath.4; および &man.ath.hal.4; ドライバが新しく追加されました。
        これは、AR5210, AR5211, AR5212 ベースの
        802.11a/b/g デバイスに対応しています。</para>

      <para>&man.bge.4; にあったバグが修正され、
        10Mbps で正常に動作するようになりました。</para>

      <para arch="i386,sparc64">&man.hatm.4; ドライバが新しく追加されました。
        これは、Fore/Marconi HE155, HE622 ATM カードに対応しています。</para>

      <para arch="i386,sparc64">patm ドライバが新しく追加されました。
        これは、IDT77252 ベースの ATM インタフェースに対応しています。</para>

      <para>802.11 対応レイヤが、
        拡張や新機能の追加が可能なように書き直されました。</para>
    </sect3>

    <sect3 id="net-proto">
      <title>ネットワークプロトコル</title>

      <para>&man.ipfw.4; ルールに、カンマで区切られたアドレスリスト
        (たとえば <literal>1.2.3.4, 5.6.7.8/30, 9.10.11.12/22</literal>)
        が使用できるようになりました。また、可読性を向上させるため、
        カンマの後ろに空白文字を入れることも可能になっています。
        &merged;</para>

      <para>&man.ipfw.4; ルールに、C++ 風のコメントが書けるようになりました。
        このコメントはルールと同じ場所に格納され、
        &man.ipfw.8; <literal>show</literal>
        コマンドでルールと一緒に表示させることができます。
        &merged;</para>

      <para>&man.ipfw.8; を使って、ルールセット 31 にある
        &man.ipfw.4; ルールが変更できるようになりました。
        従来のルールセット 31 は、デフォルトのルールを格納するために
        使われる読みとり専用のルールセットでしたが、
        この変更により <command>ipfw delete set 31</command> という
        コマンドを使って、ルールセット 31 を削除することができるようになっています。
        ただし、このルールセットは <command>ipfw flush</command>
        コマンドでは削除されません。つまり、このルールセットを使うと、
        一種の <quote>永続ルール</quote> を記述することが可能になります。
        詳細については、&man.ipfw.8; に書かれています。
        &merged;</para>

      <para>情報漏洩を防ぐため、フラグメンテーション (断片化) されない場合は
        IPv4 パケットの <varname>ip_id</varname>
        フィールドが設定されなくなりました。</para>
   </sect3>

    <sect3 id="disks">
      <title>ディスク・記憶装置</title>

      <para><filename>geom_apple</filename>,
	<filename>geom_bde</filename>,
	<filename>geom_bsd</filename>,
	<filename>geom_gpt</filename>,
	<filename>geom_mbr</filename>,
	<filename>geom_pc98</filename>,
	<filename>geom_sunlabel</filename>,
	<filename>geom_vol_ffs</filename>
        といった、さまざまある &man.geom.4; モジュールが、
        カーネルモジュールとして読み込み可能になりました。</para>
 
      <para>マルチパスストレージデバイスの検出や、アクセスパス選択を可能にする
        <literal>GEOM_FOX</literal> モジュールが追加されました。</para>

      <para arch="i386">松下 CR-562 および CR-563 CD ドライブに対応した
        &man.matcd.4; ドライバが、再び使えるようになりました。</para>
    </sect3>

    <sect3 id="fs">
      <title>ファイルシステム</title>

      <para></para>
    </sect3>

    <sect3 id="mm">
      <title>マルチメディアへの対応状況</title>

      <para></para>
    </sect3>
  </sect2>

  <sect2 id="userland">
    <title>ユーザランドの変更点</title>

    <para>&man.arp.8; に、ARP エントリに対する操作の影響範囲を
      特定のインタフェースに限定する <option>-i</option>
      オプションが追加されました。このオプションは、
      情報を表示させる操作にのみ適用されます。多くのインタフェースを
      搭載したルータなどに有用なオプションです。</para>

    <para>&man.chroot.8; が、chroot 環境で使うユーザとプライマリグループ、
      グループリストの設定に対応しました。
      設定にはそれぞれ、<option>-u</option>, <option>-g</option>,
      <option>-G</option> オプションを使います。
      &merged;</para>

    <para>devfs が必須となったため、dev_db ユーティリティは削除されました。</para>

    <para>&man.ipfw.8; <literal>list</literal> および <literal>show</literal>
      コマンドで、ルール番号を範囲で指定することができるようになりました。
      &merged;</para>

    <para>&man.ipfw.8; に、実際の動作を行なわずにコマンドの文法だけをチェックする
      <option>-n</option> フラグが追加されました。&merged;</para>

    <para><filename>libcipher</filename> DES
      暗号ライブラリが削除されました。
      これらの機能はすべて <filename>libcrypto</filename> ライブラリで
      提供されているもので、ベースシステムに含まれている
      <filename>libcipher</filename> を使っていたプログラムは、
      すべて <filename>libcrypto</filename>
      を使うように変更されています。</para>

    <para arch="i386,ia64"><filename>libthr</filename> 1:1
      スレッドライブラリがデフォルトで構築されるようになりました。</para>

    <para>&man.locale.1; ユーティリティが再実装され、POSIX
      標準に準拠しました。</para>

    <para>&man.mount.8; ユーティリティを <option>-v</option> フラグありで
      実行された際に、通常の情報に加えてファイルシステム ID
      が表示されるようになり、
      &man.umount.8; ユーティリティは、そのファイルシステム ID を
      デバイスファイルやマウントポイントの代わりに使用できるようになりました。
      この機能を使うと、同じデバイスやマウントポイント名を使って、
      複数のファイルシステムをマウントしている場合に、
      アンマウントするファイルシステムを正確に指定することが可能です。</para>

    <para>&man.mount.nwfs.8;, &man.mount.portalfs.8;,
      &man.mount.smbfs.8; ユーティリティが
      <filename>/sbin</filename> から <filename>/usr/sbin</filename>
      に移動しました。</para>

    <para>ゲストログインに対応する
      &man.pam.guest.8; PAM モジュールが追加されました。
      これは pam_ftp(8) モジュールを置き換えるものです。</para>

    <para>&man.ps.1; と &man.top.1; に、各プロセスのカーネルスレッドを表示する
      <option>-H</option> オプションが追加されました。</para>

    <para>&man.rarpd.8; にあった、
      着脱可能な Ethernet NIC を認識しないというバグが修正されました。</para>

    <para><filename>/bin</filename> および
      <filename>/sbin</filename> にあった多くのユーティリティは、
      静的リンクされたクランチバイナリ (crunched binary) として
      <filename>/rescue</filename> にも置かれるようになりました。
      このディレクトリの目的は &man.sysinstall.8; でインストールされる
      <filename>/stand</filename> ディレクトリと同じようなものですが、
      <filename>/rescue</filename> にはより多くのプログラムが置かれ、
      buildworld/installworld の操作で更新されるようになっています。

      <note>
        <para>クロスビルドに影響があるため、現在
        <filename>/rescue</filename> はデフォルトで無効になっています。
        このディレクトリは、Makefile 変数 <varname>RESCUE</varname> を設定して
        buildworld/installworld の操作を行なわないと、
        インストールされません。</para>
      </note>

      </para>
  </sect2>

  <sect2 id="contrib">
    <title>寄贈ソフトウェア</title>

    <para><application>ACPI-CA</application> コードが、
      20030228 スナップショットから
      20030619 スナップショットに更新されました。</para>

    <para><application>BIND</application> がバージョン 8.3.4
      から、バージョン 8.3.6 に更新されました。</para>

    <para><application>GCC</application> が、バージョン 3.2.2 から
      3.3.1-prerelease (2003 年 7 月 11 日時点のスナップショット)
      に更新されました。</para>

    <para><application>lukemftp</application> がバージョン
      1.6beta2 から、NetBSD の 2003 年 6 月 30
      日時点のスナップショットに更新されました。</para>

    <para><application>OpenPAM</application> が
      <quote>Dogwood</quote> リリースに更新されました。</para>

    <para><application>texinfo</application> がバージョン 4.5
      から、バージョン 4.6 に更新されました。
      &merged;</para>
  </sect2>


  <sect2 id="ports">
    <title>Ports/Packages Collection インフラストラクチャ</title>

    <para><makevar>GNU_CONFIGURE</makevar> が定義されている場合、
      <filename><makevar>WRKDIR</makevar></filename> 以下にある
      すべての <filename>config.guess</filename> および
      <filename>config.sub</filename> ファイルが、
      <filename><makevar>PORTSDIR</makevar>/Template</filename>
      にあるものと置き換えられるようになりました。
      これは、古いバージョンのスクリプトを含む ports が、ia64 や amd64
      などの新しいアーキテクチャで構築できるようにするための措置です。</para>
  </sect2>

  <sect2>
    <title>リリースエンジニアリングと統合</title>

    <para></para>
  </sect2>

  <sect2 id="doc">
    <title>ドキュメンテーション</title>

    <para></para>
  </sect2>
</sect1>

<sect1 id="upgrade">
  <title>前のリリースの &os; からのアップグレード</title>

  <para>現存する &os; システムからアップグレードするユーザは
    <quote>&os; &release.current; 初期利用者のための手引き</quote>
    を読むことを <emphasis>強く</emphasis> 推奨します。
    この文書は、通常 <filename>EARLY.TXT</filename> という名前で
    配布物に収録されており、
    また、他のリリースノートが置かれているところにも一緒に置かれています。
    この手引にはアップグレード時に注意を払うべき点に加え、
    さらに重要な情報として、
    &os; 4.<replaceable>X</replaceable> システムを使い続ける場合と
    &os; 5.<replaceable>X</replaceable> へのアップグレードした場合の、
    それぞれの利点についてのまとめが書かれています。</para>

  <important>
    <para>&os; のアップグレードは、もちろん、
      <emphasis>すべての</emphasis> データと設定ファイルを
      バックアップしてからのみ行うべきです。</para>
  </important>
</sect1>

<!--
     Local Variables:
     mode: sgml
     sgml-parent-document: ("../i386/article.sgml" "article" "articleinfo")
     End:
-->
