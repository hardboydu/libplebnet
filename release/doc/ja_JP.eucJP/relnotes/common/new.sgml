<!--
    FreeBSD Japanese Documentation Project

    $FreeBSD$

    Original revision: 1.640
-->

<articleinfo>
  <title>&os;/&arch; &release.current; リリースノート</title>

  <corpauthor>FreeBSD プロジェクト</corpauthor>

  <pubdate>$FreeBSD$</pubdate>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <year>2002</year>
    <year>2003</year>
    <holder role="mailto:doc@FreeBSD.org">FreeBSD ドキュメンテーション
    プロジェクト</holder>
  </copyright>

  <abstract>
    <para>この &os; &release.current; 用リリースノートには、
<![ %include.historic; [
      &release.prev; 以降の &os; ベースシステムに対する変更点の概要
      が含まれています。
]]>
<![ %no.include.historic; [
      &release.branch; 開発ブランチの &os; ベースシステムに対する最近の
      変更点の概要が含まれています。
]]>
      &os; カーネルおよびユーザーランドにおける変更点、
      前のリリース以降に発行されたセキュリティ勧告が書かれています。
      また、アップグレードの際の注意点も載せてあります。</para>
  </abstract>
</articleinfo>

<sect1 id="intro">
  <title>はじめに</title>

  <para>この文書は &arch.print; ハードウェアプラットフォーム用
    &os; &release.current; のリリースノートです。
    これは &os; に最近追加、変更、削除された機能について解説したものであり、
    &os; の前のバージョンからのアップグレードについても言及しています。</para>

<![ %release.type.snapshot [

  <para>このリリースノートが対応する &release.type; 配布物は、
    &release.branch; 開発ブランチの &release.prev; から
    将来の &release.next; の間に位置します。
    このブランチのあらかじめコンパイルされたバイナリ &release.type;
    配布物は <ulink url="&release.url;"></ulink> に公開されています。
  </para>

]]>

<![ %release.type.release [

  <para>この &os; &release.current; 配布物は &release.type; 配布物です。
    この配布物はあらゆるミラーの <ulink url="&release.url;"></ulink>
    で見つけることができます。
    この (もしくは他の) &os; の &release.type; 配布物を取得する方法
    は
    <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/">FreeBSD ハンドブック</ulink>
    の
    <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/mirrors.html">
      付録 <quote>FreeBSD を取得する</quote></ulink>
    を参照してください。</para>

]]>

  <para>&os; &release.type; の &release.branch;
    系列をはじめて利用するユーザは、まず <quote>&os;
    &release.current; 初期利用者の手引き</quote> をご覧ください。
    この文書は (&os; 配布ファイルの一部として、
    もしくは &os; ウェブサイト上の)
    リリースノートと同じ場所に置かれており、
    &os; 4-STABLE
    開発ブランチをベースにしたリリースと比較して、
    &os; &release.current;
    を利用する際の利点と欠点について重要な情報が書かれています。</para>

  <para>&os; をインストールする前に、必ずそのリリースの
    errata 文書をお読みください。
    errata 文書には、リリース工程の最後やリリース後に判明した
    <quote>最新の</quote> 情報が書かれています。
    通常これに含まれているのは、既知のバグ、セキュリティ勧告、
    文書の訂正です。&os; &release.current;
    の最新版 errata 文書は、&os; ウェブサイトから入手できます。</para>

</sect1>

<sect1 id="new">
  <title>更新情報</title>

  <para>この節では
<![ %include.historic; [
    &release.prev; 以降に新たに追加・変更された
    ユーザに影響する機能について説明します。
    一般的に、ここに書かれている変更点のうち &merged;
    という印の付いていないものは &release.branch; に固有のものです。
]]>
<![ %no.include.historic; [
    &release.prev; 以降に新たに追加・変更された
    ユーザに影響する機能について説明します。
    これには他のブランチ (&os; &release.prev.historic; 以降) へと
    最近マージされた機能に加えて、&release.branch; ブランチ
    に固有の項目も含まれます。
]]>
  </para>

  <para>リリースノートには、
    &release.prev.historic; 以降に出されたセキュリティ勧告、
    新しいドライバやハードウェア対応、
    新しいコマンドやオプション、重要なバグフィックスや寄贈ソフトウェア
    のアップグレード、
    ports/packages やリリースエンジニアリング工程に関する大きな変更点が
    書かれています。リリースノートには、リリース間に加えられた
    &os; の全変更点が書かれているわけではありません。
    記載されている情報は、セキュリティ勧告、ユーザに影響のある変更、
    既存の構造に対する大きな改良点が中心としたものです。</para>

  <para>&os; に加えられた変更点のうち、
    スペースの都合上ここに書かれていないものも多数存在します。
    それらはたとえば文書の修正や改良、ごく影響の小さいバグの修正、
    監査で見つかったセキュリティ上好ましくないスタイルで書かれたコードの修正、
    ソースコードの整理などです。</para>

  <sect2 id="security">
    <title>セキュリティ勧告</title>

    <para>&man.realpath.3; 関数の実装にあった
      1 バイトのバッファオーバフローを引き起こすバグが修正されました。
      この修正は &os; &release.prev; の公開前に行われました
      (したがって、&release.prev; には影響がありません)
      が、リリース文書には記載されていませんでした。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:08.realpath.asc">FreeBSD-SA-03:08</ulink>
      をご覧ください。
      &merged;</para>

    <para>カーネルに不正なシグナルの配送を可能にするバグが修正されました。
      このバグは、カーネルパニックを引き起こしたり、
      特定の状況ではカーネルメモリを不正に改変できる可能性があります。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:09.signal.asc">FreeBSD-SA-03:09</ulink>
      をご覧ください。
      &merged;</para>

    <para>カーネルメモリの内容が漏洩する可能性がある
      iBCS2 エミュレーションモジュールのバグが修正されました。
      なお、このモジュールはデフォルトでは有効になっていません。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:10.ibcs2.asc">FreeBSD-SA-03:10</ulink>
      をご覧ください。
      &merged;</para>

    <para><application>OpenSSH</application> のバッファを管理する
      コードにあったクラッシュを引き起こす可能性があるバグが修正されました。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:12.openssh.asc">FreeBSD-SA-03:12</ulink>
      をご覧ください。
      &merged;</para>

    <para><application>sendmail</application>
      のバッファオーバフロー問題が修正されました。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:13.sendmail.asc">FreeBSD-SA-03:13</ulink>
      をご覧ください。
      &merged;</para>

    <para>ARP キャッシュコードにあった、カーネル資源を枯渇させ、
      システムパニックを発生させる可能性があるバグが修正されました。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:14.arp.asc">FreeBSD-SA-03:14</ulink>
      をご覧ください。
      &merged;</para>

    <para><application>OpenSSH</application> の
      PAM チャレンジ/認証サブシステムにあったいくつかの誤りが修正されました。
      これらのバグの影響には、さまざまなものが存在します。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:15.openssh.asc">FreeBSD-SA-03:15</ulink>
      をご覧ください。
      &merged;</para>

    <para>カーネルメモリの内容が漏洩する可能性がある
      &man.procfs.5; と &man.linprocfs.5; のバグが修正されました。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:17.procfs.asc">FreeBSD-SA-03:17</ulink>.
      をご覧ください。
      &merged;</para>

    <para><application>OpenSSL</application> にあった 4 種類の
      セキュリティ上の弱点が修正されました。
      このバグは、リモートの攻撃者が <application>OpenSSL</application>
      を利用するアプリケーションをクラッシュさせたり、
      アプリケーションの権限で任意のコードを実行できる可能性があります。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:18.openssl.asc">FreeBSD-SA-03:18</ulink>
      をご覧ください。
      &merged;</para>
  </sect2>

  <sect2 id="kernel">
    <title>カーネルの変更点</title>

    <para arch="i386">コンソールを初期化する際に、
      AT キーボードが接続されていない時でも
      &man.atkbd.4; が AT キーボードを登録してしまうバグが修正されました。
      これにより、USB キーボードのみが接続されているシステムで
      <command>kbdcontrol -k /dev/kbd1</command>
      を実行する必要はなくなっています。
      &merged;</para>

    <para arch="i386,pc98">DRM カーネルモジュールが
      DRI CVS リポジトリの 2003 年 9 月 9 日時点のコードに更新されました。
      この変更には、最近移植された SiS 300/305/540/630/730 ドライバの
      統合が含まれています。</para>

    <para>マルチバイト文字集合の変換メソッドに対応する
      <literal>LIBICONV</literal> カーネルオプションが追加されました。</para>

    <para arch="sparc64">PCI バスの処理を改善する、Open Firmware の新しい
      PCI フレームワークが導入されました。
      <literal>OFW_NEWPCI</literal> カーネルオプションで制御することができます。
      ユーザに見える変更の一つは、検出されたデバイスの数え方が
      &solaris; に近くなったことです
      (この変更により、同じ種類のデバイスが二つ以上あると
      デバイスの番号付けが変わることがあります)。
      なお、<filename>GENERIC</filename> カーネルでは
      <literal>OFW_NEWPCI</literal> カーネルオプションが
      デフォルトで有効になっています。</para>

    <para arch="i386,pc98">&man.hifn.4; ドライバが
      7955 および 7956 チップセットの対称暗号機能に対応しました。
      &merged;</para>

    <para arch="amd64,alpha,i386,ia64,pc98">&man.puc.4;
      (PCI Universal Communications) ドライバが &man.ppc.4; ドライバを
      経由したパラレルポートへの接続に対応しました。</para>

    <para arch="i386,pc98">&man.safe.4; ドライバが追加されました。
      これは SafeNet 1141、1741 ベースの
      暗号処理アクセラレータに対応しています。
      &merged;

      <warning>
	<para>このドライバは試験的なものと考えられています。
	  使用には注意してください。</para>
      </warning>

      <note>
	<para>公開鍵暗号機能には対応していません。</para>
      </note></para>

    <para>カーネルにソフトウェアウォッチドッグ機能が実装されました。
      詳しくは &man.watchdog.4; と
      &man.watchdogd.8; をご覧ください。</para>

    <!-- Above this line, sort kernel changes by manpage/keyword-->

    <para>スワップページャの実装が刷新されました。
      ユーザに見える変更点は、
      I/O スループット向上のためにレイアウトポリシが
      固定幅のストライピングから複数デバイスのラウンドロビン方式に変更されたこと、
      コンパイル時に指定していたスワップデバイス数の上限がなくなったこと、
      メモリオーバヘッドが減少したことなどがあります。</para>

    <sect3 id="proc">
      <title>プラットフォーム固有のハードウェアの対応状況</title>

      <para arch="i386">単一プロセッサ構成の i386 プラットフォームで、
        常に PCI 割り込みが使われるようになりました。
        これにより、今まで使用できなかった (特にラップトップの) PCI
        カードが使用できるようになっています。</para>

      <para arch="i386">PAE 機能をある特定の量のメモリを搭載しているマシンで有効にした場合に、
        カーネルがパニックさせる原因となる整数演算のオーバフローが修正されました。</para>

      <para arch="i386,pc98">浮動小数点エミュレーションが削除されました。</para>

    </sect3>

    <sect3 id="boot">
      <title>ブートローダの変更</title>

      <para></para>

       <!-- Above this line, order bootloader changes by keyword-->

    </sect3>

    <sect3 id="net-if">
      <title>ネットワークインターフェイスの対応状況</title>

      <para>&man.ath.4; および &man.ath.hal.4; ドライバが新しく追加されました。
        これは、AR5210, AR5211, AR5212 ベースの
        802.11a/b/g デバイスに対応しています。</para>

      <para>&man.bfe.4; ドライバが新しく追加されました。
	これは、Broadcom BCM4401 ベースの
	Fast Ethernet アダプタに対応しています。</para>

      <para>&man.bge.4; が Broadcom 5705 ベースの
	Gigabit Ethernet NIC に対応しました。
	&merged;</para>

      <para>&man.bge.4; にあったバグが修正され、
        10Mbps で正常に動作するようになりました。</para>

      <para>&man.em.4; ドライバが、ドライバを再コンパイルしなくても、
	割込みの遅延量を sysctl 変数を利用して調整できるようになりました。</para>

      <para arch="i386,pc98,sparc64">&man.harp.4; ドライバが新しく追加されました。
	これは HARP (Host ATM  Research  Platform)
        用の仮想的な物理インタフェースドライバです。
	システムのすべての netgraph ATM インタフェースにアタッチし、
	HARP スタックに、
        各インタフェースに対応する物理インタフェースを提供します。</para>

      <para arch="i386,pc98,sparc64">&man.hatm.4; ドライバが新しく追加されました。
        これは、Fore/Marconi HE155, HE622 ATM カードに対応しています。</para>

      <para arch="i386,pc98,sparc64">&man.patm.4; ドライバが新しく追加されました。
        これは、IDT77252 ベースの ATM インタフェースに対応しています。</para>

      <para>&man.re.4; ドライバが追加されました。
	これは、 RealTek RTL8139C+、RTL8169、RTL8169S、RTL8110S
	PCI Fast Ethernet コントローラおよび
	Gigabit Ethernet コントローラに対応しています。</para>

      <para>&man.sk.4; ドライバが SK-9521 V2.0 と 3COM 3C940 ベースの
	Gigabit Ethernet NIC に対応しました。
        &merged;</para>

      <para>さまざまな種類の
	UART (Universal Asynchronous Receiver/Transmitter)
	デバイスに対応する &man.uart.4; ドライバが追加されました。
	これは &man.sio.4; ドライバと機能が類似していますが、
	より幅広いデバイスに対応しており、
	ia64 や sparc64 のようなアーキテクチャにおける
	シリアルポート対応に必要となるものです。</para>

      <para>&man.wi.4; ドライバのサスペンド/レジューム対応が
	デバイスを down 状態にしている時にも正しく動作するようになりました。
	&merged;</para>

      <para>802.11 対応レイヤが、
        拡張や新機能の追加が可能なように書き直されました。</para>

      <para>xe ドライバが CE2, CEM28, CEM33 カードに対応し、
        マルチキャスト機能に対応しました。また、
        ドライバにあったいくつかのバグも修正されています。</para>
    </sect3>

    <sect3 id="net-proto">
      <title>ネットワークプロトコル</title>

      <para><literal>IP_ONESBCAST</literal> オプションが追加されました。
	これを有効にすると、特定のネットワークインタフェースに送られる
	すべての &man.ip.4; ブロードキャストを、
        強制的にリミテッドブロードキャストアドレスに向けることが可能です。</para>

      <para>&man.ipfw.4; ルールに、カンマで区切られたアドレスリスト
        (たとえば <literal>1.2.3.4, 5.6.7.8/30, 9.10.11.12/22</literal>)
        が使用できるようになりました。また、可読性を向上させるため、
        カンマの後ろに空白文字を入れることも可能になっています。
        &merged;</para>

      <para>&man.ipfw.4; ルールに、C++ 風のコメントが書けるようになりました。
        各コメントはルールと同じ場所に格納され、
        &man.ipfw.8; <literal>show</literal>
        コマンドでルールと一緒に表示させることができます。
        &merged;</para>

      <para>&man.ipfw.8; を使って、ルールセット 31 にある
        &man.ipfw.4; ルールが変更できるようになりました。
        従来のルールセット 31 は、デフォルトのルールを格納するために
        使われる読みとり専用のルールセットでしたが、
        この変更により <command>ipfw delete set 31</command> という
        コマンドを使って、ルールセット 31 を削除することができるようになっています。
        ただし、このルールセットは <command>ipfw flush</command>
        コマンドでは削除されません。つまり、このルールセットを使うと、
        一種の <quote>永続ルール</quote> を記述することが可能になります。
        詳細については、&man.ipfw.8; に書かれています。
        &merged;</para>

      <para>&man.ng.atmpif.4; NetGraph ノードタイプが追加されました。
	これは HARP 物理インタフェースをエミュレートし、
	ハードウェアが実在しなくても
	HARP ATM スタックを動作させることができます。</para>

      <para>カーネルが
	Protocol Independent Multicast ルーティングに対応しました。
	&merged;</para>

      <para>情報漏洩を防ぐため、フラグメンテーション (断片化) されない場合は
        IPv4 パケットの <varname>ip_id</varname>
        フィールドが設定されなくなりました。</para>
   </sect3>

    <sect3 id="disks">
      <title>ディスク・記憶装置</title>

      <para>&man.amr.4; ドライバがクラッシュダンプ機構に対応しました。</para>

      <para>&man.ata.4; ドライバが大きく書き直されました。
	大きな変更の一つは、&man.ata.4; ドライバの
	ジャイアントカーネルロックが外されたことです。
	従来、ATA のソフトウェア RAID システムは
        <literal>device atadisk</literal> を指定するだけで
	自動的に利用できるようになっていましたが、
	現在は、明示的にカーネルコンフィグファイルに
	<literal>device ataraid</literal> を追加する必要があります。</para>

      <para>&man.ccd.4; が raw ディスクおよび、その他の
        &man.geom.4; プロバイダに対して動作するようになりました。</para>

      <para>&man.da.4; ドライバが、USB デバイスと Firewire デバイスに
	6 バイトコマンドを送出しないようになりました。
	現在、この回避策は (不要になったと思われるため) 無効にされています。
	従来の動作に戻すには、<literal>options DA_OLD_QUIRKS</literal> を
	カーネルコンフィグファイルに追加してください。
	&merged;</para>

      <para><filename>geom_apple</filename>,
	<filename>geom_bde</filename>,
	<filename>geom_bsd</filename>,
	<filename>geom_gpt</filename>,
	<filename>geom_mbr</filename>,
	<filename>geom_pc98</filename>,
	<filename>geom_sunlabel</filename>,
	<filename>geom_vol_ffs</filename>
        といった、さまざまある &man.geom.4; モジュールが、
        カーネルモジュールとして読み込み可能になりました。</para>

      <para>マルチパスストレージデバイスの検出や、アクセスパス選択を可能にする
        <literal>GEOM_FOX</literal> モジュールが追加されました。</para>

      <para arch="i386">松下 CR-562 および CR-563 CD ドライブに対応した
        &man.matcd.4; ドライバが、再び使えるようになりました。</para>

      <para>&man.twe.4; ドライバが 3ware 汎用 API に対応しました。
	&merged;</para>
    </sect3>

    <sect3 id="fs">
      <title>ファイルシステム</title>

      <para>cd9660、msdosfs、ntfs ファイルシステムが
	マルチバイト文字変換に対応しました。
	それぞれ、カーネルオプション <literal>CD9660_ICONV</literal>、
	<literal>MSDOSFS_ICONV</literal>、<literal>NTFS_ICONV</literal> を
	カーネルコンフィグファイルに指定してください。</para>

      <para>smbfs が 15 文字の NetBIOS 名で正しく動作するのを阻害していた
	いくつかの一つ違い (off-by-one) の誤りが修正されました。</para>
    </sect3>

    <sect3 id="mm">
      <title>マルチメディアへの対応状況</title>

      <para></para>
    </sect3>
  </sect2>

  <sect2 id="userland">
    <title>ユーザランドの変更点</title>

    <para>ACPI DSDT デバッガの &man.acpidb.8; が追加されました。</para>

    <para>&man.arp.8; に、ARP エントリに対する操作の影響範囲を
      特定のインタフェースに限定する <option>-i</option>
      オプションが追加されました。このオプションは、
      情報を表示させる操作にのみ適用されます。多くのインタフェースを
      搭載したルータなどに有用なオプションです。
      &merged;</para>

    <para>&man.atmconfig.8; が追加されました。
      ATM ドライバと IP over ATM 機能の設定を行います。</para>

    <para>&man.chroot.8; が、chroot 環境で使うユーザとプライマリグループ、
      グループリストの設定に対応しました。
      設定にはそれぞれ、<option>-u</option>, <option>-g</option>,
      <option>-G</option> オプションを使います。
      &merged;</para>

    <para>devfs が必須となったため、dev_db ユーティリティは削除されました。</para>

    <para>&man.dhclient.8; が
      ネットワークインタフェースの状態をポーリングするようになり、
      動作中のインタフェースに対してのみ DHCP 要求を送出するようになりました。
      ポーリング間隔は
      <option>-i</option> オプションで制御することができます。</para>

    <para>&man.ffsinfo.8; ユーティリティが
      UFS2 ファイルシステムを解釈するに更新され、
      再びベースシステムに含まれるようになりました。</para>

    <para>&man.iasl.8; ユーティリティが追加されました。
      これは、ACPI Source Language (ASL) と ACPI Machine language (AML) の
      コンパイラ・逆コンパイラです。</para>

    <para>&man.ipfw.8; <literal>list</literal> および <literal>show</literal>
      コマンドで、ルール番号を範囲で指定することができるようになりました。
      &merged;</para>

    <para>&man.ipfw.8; に、実際の動作を行なわずにコマンドの文法だけをチェックする
      <option>-n</option> フラグが追加されました。&merged;</para>

    <para><filename>libalias</filename> ライブラリ、&man.natd.8; および
      &man.ppp.8; が Cisco Skinny Station プロトコルに対応しました。
      このプロトコルは Cisco Call Manager と通信するために
      Cisco 製の IP 電話によって利用されています。
      ただし現時点では、NAT ゲートウェイの後ろに Call Manager を置く構成には
      対応していません。</para>

    <para><filename>libcipher</filename> DES
      暗号ライブラリが削除されました。
      これらの機能はすべて <filename>libcrypto</filename> ライブラリで
      提供されているもので、ベースシステムに含まれている
      <filename>libcipher</filename> を使っていたプログラムは、
      すべて <filename>libcrypto</filename>
      を使うように変更されています。</para>

    <para>カーネルに読み込み可能な文字集合変換テーブルの操作をおこなう
      <filename>libkiconv</filename> ライブラリが追加されました。</para>

    <para arch="i386,ia64"><filename>libthr</filename> 1:1
      スレッドライブラリがデフォルトで構築されるようになりました。</para>

    <para>&man.locale.1; ユーティリティが再実装され、POSIX
      標準に準拠しました。新しく追加された <option>-m</option> オプションは
      利用可能なすべてのコードセットを表示します。</para>

    <para><option>-v</option> フラグを指定して &man.mount.8; ユーティリティを 
      実行した場合に、通常の情報に加えて各ファイルシステムのファイルシステム ID
      が表示されるようになりました。このファイルシステム ID は、
      &man.umount.8; ユーティリティでデバイスファイルや
      マウントポイントのパス名の代わりに使用することができます。
      この機能を使うと、同じデバイス名やマウントポイント名を使って
      複数のファイルシステムをマウントしている場合に、
      アンマウントするファイルシステムを正確に指定することが可能です。</para>

    <para>&man.mount.cd9660.8; と &man.mount.ntfs.8; ユーティリティに
      <option>-C</option> オプションが追加されました。
      これは Unicode ファイル名の変換先になるローカルの文字集合を指定するもので、
      マルチバイト文字集合を指定することが可能です。</para>

    <para>&man.mount.msdosfs.8; ユーティリティに、
      ファイルシステム中のディレクトリに対する最大のファイル許可属性を指定する
      <option>-M</option> オプションが追加されました。
      &merged;</para>

    <para>&man.mount.msdosfs.8; ユーティリティに、
      MS-DOS コードページを指定する <option>-D</option> オプションと
      ローカル文字集合を指定する <option>-L</option> オプションが
      追加されました。
      これらのオプションはファイル名の文字集合変換に使われます。
      これにより、<filename>/usr/libdata/msdosfs</filename> にあった
      文字集合変換テーブルは廃止されました。</para>

    <para>&man.mount.nwfs.8;, &man.mount.portalfs.8;,
      &man.mount.smbfs.8; ユーティリティが
      <filename>/sbin</filename> から <filename>/usr/sbin</filename>
      に移動しました。</para>

    <para>&man.rc.conf.5; にある、&man.ntpd.8; の起動オプションを設定する変数
      <varname>ntpd_flags</varname> がデフォルトで
      <option>-f /var/db/ntpd.drift</option> を含むようになりました。</para>

    <para>ゲストログインに対応する
      &man.pam.guest.8; PAM モジュールが追加されました。
      これは pam_ftp(8) モジュールを置き換えるものです。</para>

    <para>&man.ps.1; と &man.top.1; に、各プロセスのカーネルスレッドを表示する
      <option>-H</option> オプションが追加されました。</para>

    <para>&man.rarpd.8; にあった、
      着脱可能な Ethernet NIC を認識しないというバグが修正されました。</para>

    <para>&man.rtld.1; がデフォルトで
      <quote>libmap</quote> 機能に対応するようになりました。
      この変更により、コンパイル時の変数 <varname>WITH_LIBMAP</varname>
      は不要となり、廃止されています。
      詳細は &man.libmap.conf.5; をご覧ください。</para>

    <para>カーネルの全部分が ELF フォーマットに移行し、
      a.out フォーマットのツールチェインは使用しないため、
      不要になった symorder ユーティリティが削除されました。</para>

    <para>&man.sysinstall.8; にインストール中に
      代替 MTA を選択する機能が追加されました。
      現在、<application>exim</application> と
      <application>Postfix</application> を選択することができます。</para>

    <para>&man.systat.1; が
      IPv6 および ICMPv6 のトラフィックを表示するようになりました。
      &merged;</para>

    <para><filename>/bin</filename> および
      <filename>/sbin</filename> にあった多くのユーティリティは、
      静的リンクされたクランチバイナリ (crunched binary) として
      <filename>/rescue</filename> にも置かれるようになりました。
      このディレクトリの目的は &man.sysinstall.8; でインストールされる
      <filename>/stand</filename> ディレクトリと同じようなものですが、
      <filename>/rescue</filename> にはより多くのプログラムが置かれ、
      <literal>buildworld</literal>/<literal>installworld</literal> の操作で更新されるようになっています。
      詳細は &man.rescue.8; をご覧ください。</para>

    <para>動的リンクするように構築した実行ファイルを
      <filename>/bin</filename> ディレクトリおよび
      <filename>/sbin</filename> ディレクトリに
      インストールできるようになりました。
      これにより、ベースシステムユーティリティが読み込み可能な
      PAM モジュールや NSS モジュールに対応できるようになりました。
      また、共有ライブラリを使用することで
      ルートファイルシステムに必要とされるディスク容量が削減されました。
      この機能は <literal>buildworld</literal> の際に
      変数 <varname>WITH_DYNAMICROOT</varname>
      を定義して有効にすることができます。</para>

  </sect2>

  <sect2 id="contrib">
    <title>寄贈ソフトウェア</title>

    <para><application>ACPI-CA</application> コードが、
      20030228 スナップショットから
      20030619 スナップショットに更新されました。</para>

    <para><application>amd</application> がバージョン 6.0.7
      から、バージョン 6.0.9 に更新されました。</para>

    <para>Bell Labs 由来の <application>awk</application> が
      2003 年 3 月 14 日時点のスナップショットから
      2003 年 7 月 29 日時点のスナップショットに更新されました。</para>

    <para><application>BIND</application> がバージョン 8.3.4
      から、バージョン 8.3.6 に更新されました。</para>

    <para><application>GCC</application> が、バージョン 3.2.2
      から、3.3.1-release に更新されました。

      <note>
        <para><application>GCC</application> の前のバージョンは、
	  最適化オプション <literal>-march=pentium4</literal>
	  が指定されていると誤ったコードを生成してしまいます。
	  今回の更新によりその問題は修正されたと考えられており、
	  以前行っていた <literal>CPUTYPE</literal> が
	  <literal>p4</literal> の場合の回避策は削除されました。</para>
      </note></para>

    <para><application>GCC</application> の
      スレッドライブラリへのリンクを制御する
      <option>-pthread</option> オプションが削除されました。
      このオプションは、複数のスレッドライブラリ
      (具体的には <filename>libc_r</filename>、<filename>libkse</filename>
      および <filename>libthr</filename>) が存在する場合に混乱を引き起こします。
      ports では、正しいスレッドライブラリを選択するために
      変数 <varname>PTHREAD_LIBS</varname> を使用してください。</para>

    <para><application>GNU Readline</application> がバージョン 4.2
      から、バージョン 4.3 に更新されました。</para>

    <para><application>GNU Sort</application> が textutils バージョン 2.0.21
      から、バージョン 2.1 に更新されました。</para>

    <para><application>Heimdal Kerberos</application> がバージョン
      0.5.1 からバージョン 0.6 に更新されました。</para>

    <para><application>ISC DHCP</application> クライアントがバージョン 3.0.1rc11
      から、バージョン 3.0.1rc12 に更新されました。</para>

    <para><application>lukemftp</application> がバージョン
      1.6beta2 から、NetBSD の 2003 年 6 月 30
      日時点のスナップショットに更新されました。</para>

    <para><application>OpenPAM</application> が
      <quote>Dogwood</quote> リリースに更新されました。</para>

    <para><application>OpenSSL</application> がバージョン
      0.9.7a から 0.9.7c に更新されました。
      &merged;</para>

    <para><application>sendmail</application> がバージョン
      8.12.10 に更新されました。</para>

    <para><application>texinfo</application> がバージョン 4.5
      から、バージョン 4.6 に更新されました。
      &merged;</para>

    <para>タイムゾーンデータベースが <filename>tzdata2003a</filename> リリースから
      <filename>tzdata2003d</filename> リリースに更新されました。</para>
  </sect2>


  <sect2 id="ports">
    <title>Ports/Packages Collection インフラストラクチャ</title>

    <para><makevar>GNU_CONFIGURE</makevar> が定義されている場合、
      <filename><makevar>WRKDIR</makevar></filename> 以下にある
      すべての <filename>config.guess</filename> および
      <filename>config.sub</filename> ファイルが、
      <filename><makevar>PORTSDIR</makevar>/Template</filename>
      にあるものと置き換えられるようになりました。
      これは、古いバージョンのスクリプトを含む ports が、ia64 や amd64
      などの新しいアーキテクチャで構築できるようにするための措置です。</para>
  </sect2>

  <sect2 id="releng">
    <title>リリースエンジニアリングと統合</title>

    <para arch="alpha,amd64,ia64">インストール用のフロッピディスクイメージが
      alpha、amd64 および ia64 アーキテクチャでは構築されなくなりました。</para>

    <para><application>GNOME</application> の対応リリースが
      2.2.1 から 2.4 に更新されました。
      &merged;</para>

    <para><application>KDE</application> の対応リリースが
      3.1.2 から 3.1.4 に更新されました。
      &merged;</para>

  </sect2>

  <sect2 id="doc">
    <title>ドキュメンテーション</title>

    <para></para>
  </sect2>
</sect1>

<sect1 id="upgrade">
  <title>前のリリースの &os; からのアップグレード</title>

  <para>現存する &os; システムからアップグレードするユーザは
    <quote>&os; &release.current; 初期利用者のための手引き</quote>
    を読むことを <emphasis>強く</emphasis> 推奨します。
    この文書は、通常 <filename>EARLY.TXT</filename> という名前で
    配布物に収録されており、
    また、他のリリースノートが置かれているところにも一緒に置かれています。
    この手引にはアップグレード時に注意を払うべき点に加え、
    さらに重要な情報として、
    &os; 4.<replaceable>X</replaceable> システムを使い続ける場合と
    &os; 5.<replaceable>X</replaceable> へのアップグレードした場合の、
    それぞれの利点についてのまとめが書かれています。</para>

  <important>
    <para>&os; のアップグレードは、もちろん、
      <emphasis>すべての</emphasis> データと設定ファイルを
      バックアップしてからのみ行うべきです。</para>
  </important>
</sect1>

<!--
     Local Variables:
     mode: sgml
     sgml-parent-document: ("../i386/article.sgml" "article" "articleinfo")
     End:
-->
