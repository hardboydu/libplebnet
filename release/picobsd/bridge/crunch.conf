#
# $FreeBSD$
#
# configuration file for "bridge" floppy.
# Depending on your needs, almost surely you will need to
# modify your configuration to add/remove/change programs used in
# the floppy image. Remember that some programs also require
# matching kernel options to enable device drivers etc.
#
# Next to most of the programs i have tried to indicate the approximate
# space consumed, but beware that these values change from release
# to release, and might depend on the presence of other programs which
# share the same libraries.
#
# NOTE: the string "/usr/src" will be automatically replaced with the
# correct value set in 'build' script - you should change it there

# Default build options. Basically tell the Makefiles which understand
# that to use the most compact possible version of the code.
#
buildopts -DNO_PAM -DRELEASE_CRUNCH -DPPP_NO_NETGRAPH -DTRACEROUTE_NO_IPSEC -DNO_INET6
buildopts -DWITHOUT_IPX

# directories where to look for sources of various binaries.
# @__CWD__@ is a magic keyword in the picobsd's (Makefile.conf)
# which is replaced with the picobsd directory.
srcdirs @__CWD__@/src

# Some programs are especially written for PicoBSD and reside here
# Make this first in the list so we can override standard programs
# with the picobsd-specific ones.
srcdirs /usr/src/release/picobsd/tinyware

#
# standard locations
#
srcdirs /usr/src/bin
srcdirs /usr/src/sbin/i386
srcdirs /usr/src/sbin
srcdirs /usr/src/usr.bin
srcdirs /usr/src/gnu/usr.bin
srcdirs /usr/src/usr.sbin
srcdirs /usr/src/libexec
#
# And there are others (mostly ports) which reside in their specific
# directories. For them, we use the "special" commands to tell
# crunchgen where to look for sources, objects, which Makefile
# variables contain the list of sources and objects, and so on.

# init is almost always necessary.
progs init
# fsck is almost always necessary, unless you have everything on the
# image and use 'tar' or something similar to read/write raw blocks
# from the floppy.
progs fsck
# ifconfig is needed if you want to configure interfaces...
progs ifconfig
#
# You will also need a shell and a bunch of utilities.
# The standard shell is not that large, but you need many
# external programs. In fact most of them do not take much space
# as they merely issue a system call, and print the result; the
# libraries are already needed anyways, so they end up using almost
# no additional memory.
# There are a few exceptions such as 'less', which in 4.x is
# rather large.
progs sh
ln sh -sh
progs echo
progs pwd
progs mkdir rmdir
progs chmod chown
progs mv ln
progs mount
progs minigzip
ln minigzip gzip
progs cp
progs rm
progs ls
progs kill
progs df
progs ps
progs ns
ln ns netstat
progs vm
progs cat
progs test
ln test [
progs hostname
progs login
progs getty
progs stty
progs w
progs msg
ln msg dmesg
progs reboot
progs less
#ln less more
#progs more
special more srcdir /usr/ports/misc/44bsd-more/work

progs sysctl
progs swapon
progs pwd_mkdb
progs umount
progs du
progs tail
progs tee
progs passwd

progs route
# progs mount_msdosfs
# progs comcontrol
#
# If you want to run natd, remember the alias library
#progs natd
#libs -lalias	# natd
#
# ppp is rather large. Note that as of Jan.01, RELEASE_CRUNCH
# makes ppp not use libalias, so you cannot have aliasing.
#progs ppp

# You need an editor. ee is relatively small, though there are
# smaller ones. vi is much larger.
# The editor also usually need a curses library.
progs ee
libs -lncurses
# progs vi
# libs -lcurses # for vi

#progs tcpdump
special tcpdump srcdir /usr/src/usr.sbin/tcpdump/tcpdump

progs arp

progs bsdlabel
progs fdisk
progs mdconfig

#progs grep
progs date
#progs mount_nfs
ln mount_nfs nfs
progs ping
#progs routed
progs ipfw
progs traceroute
# progs mount_cd9660
# ln mount_cd9660 cd9660
# progs newfs
#ln newfs mount_mfs
ln chown chgrp
# ln mount_msdosfs msdos


libs -ll       # used by sh
libs -lufs     # used by mount
### ee uses ncurses instead of curses
libs -ledit -lutil -lmd -lcrypt -lmp -lm -lkvm
# libs -lmytinfo
libs -lz -lpcap -lwrap
libs -ltermcap -lgnuregex # -lcurses
libs -lgeom
libs -lsbuf
libs -lbsdxml  # used by ifconfig
