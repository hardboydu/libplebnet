<!--
   $Id: pam_mail.sgml,v 1.2 1997/02/15 18:25:44 morgan Exp $
   
   This file was written by Andrew G. Morgan <morgan@parc.power.net>
-->

<sect1>The mail module

<sect2>Synopsis

<p>
<descrip>

<tag><bf>Module Name:</bf></tag>
<tt/pam_mail/

<tag><bf>Author:</bf></tag>
Andrew G. Morgan &lt;morgan@parc.power.net&gt;

<tag><bf>Maintainer:</bf></tag>
Author

<tag><bf>Management groups provided:</bf></tag>
auth

<tag><bf>Cryptographically sensitive:</bf></tag>
	
<tag><bf>Security rating:</bf></tag>

<tag><bf>Clean code base:</bf></tag>

<tag><bf>System dependencies:</bf></tag>
Default mail directory <tt>/var/spool/mail/</tt>

<tag><bf>Network aware:</bf></tag>

</descrip>

<sect2>Overview of module

<p>
This module looks at the user's mail directory and indicates
whether the user has any mail in it.

<sect2>Authentication component

<p>
<descrip>

<tag><bf>Recognized arguments:</bf></tag>
<tt/debug/; <tt/dir=/<em/direcory-name/; <tt/nopen/; <tt/close/;
<tt/noenv/; <tt/empty/

<tag><bf>Description:</bf></tag>

This module provides the ``you have new mail'' service to the user. It
can be plugged into any application that has credential hooks. It gives a
single message indicating the <em/newness/ of any mail it finds in the
user's mail folder. This module also sets the <bf/Linux-PAM/
environment variable, <tt/MAIL/, to the user's mail directory.

<p>
Although the module supplies functions for the authentication
management group of functions, it cannot be used to authenticate a
user; its authentication function instructs <tt/libpam/ to simply
ignore it when authenticating the user.

<p>
The behavior of this module can be modified with one of the following
flags:

<p>
<itemize>
<item><tt/debug/
- write more information to <tt/syslog(3)/.

<item><tt/dir=/<em/pathname/
- look for the users' mail in an alternative directory given by
<em/pathname/.  The default location for mail is
<tt>/var/spool/mail</tt>. Note, if the supplied <em/pathname/ is
prefixed by a `<tt/&tilde;/', the directory is interpreted as
indicating a file in the user's home directory.

<item><tt/nopen/
- instruct the module to <em/not/ print any mail information when the
user's credentials are acquired. This flag is useful to get the <tt/MAIL/
environment variable set, but to not display any information about it.

<item><tt/close/
- instruct the module to indicate if the user has any mail at the as
the user's credentials are revoked.

<item><tt/noenv/
- do not set the <tt/MAIL/ environment variable.

<item><tt/empty/
- indicate that the user's mail directory is empty if this is found to
be the case.

</itemize>

<tag><bf>Examples/suggested usage:</bf></tag>

This module can be used to indicate that the user has new mail when
they <em/login/ to the system. Here is a sample entry for your
<tt>/etc/pam.conf</tt> file:
<tscreen>
<verb>
#
# do we have any mail?
#
login	auth	 optional	pam_mail.so
</verb>
</tscreen>

<p>
Note, some applications may perform this function themselves. In such
cases, this module is not necessary.

</descrip>

<!--
End of sgml insert for this module.
-->
