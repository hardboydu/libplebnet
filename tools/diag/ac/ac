#!/bin/sh
# Copyright (c) March 1997. Wolfram Schneider <wosch@FreeBSD.ORG>. Berlin.
# This script is dedicated to the FreeBSD core team.
#
# ac - check if the FreeBSD handbook is in sync with the committers list
#
# $FreeBSD$

: ${CVSROOT=/usr/cvs}
contrib=src/share/doc/handbook/contrib.sgml
avail=CVSROOT/avail
cvs='cvs -Q co -p'
tmp=${TMPDIR-/tmp}/_committers

$cvs $contrib | 
	perl -ne 'print if /contrib:core/ .. /contrib:doc/' |
	perl -ne 'print "$1\n" if /<item>\&a\.([^;]+)/' | 
	sort -u > $tmp.contrib

$cvs $avail | 
	sed -n 's/^avail\|//p' | 
	perl -npe 's/,/\n/g' | 
	sort -u > $tmp.avail

diff -u $tmp.avail $tmp.contrib
rm -f $tmp.avail $tmp.contrib
