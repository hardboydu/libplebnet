<!-- $Id: cyclades.sgml,v 1.2 1996/03/26 23:22:03 mpp Exp $ -->
<!-- The FreeBSD Documentation Project -->

<!--
<!DOCTYPE linuxdoc PUBLIC "-//FreeBSD//DTD linuxdoc//EN" [

<!ENTITY % authors SYSTEM "authors.sgml">
%authors;

]>
-->
<sect2><heading>Configuring the <tt>cy</tt> driver<label id="cy"></heading>

	  <p><em>Contributed by &a.alex;.<newline>6 June 1996.</em>

	    The Cyclades multiport cards are based on the <tt>cy</tt>
	    driver instead of the usual <tt>sio</tt> driver used by
	    other multiport cards.  Configuration is a simple matter
	    of:

	    <enum>
	      <item>Add the <tt>cy</tt> device to your 
		<ref id="kernelconfig:config" name="kernel configuration">
		(note that your irq and iomem settings may differ).

<tscreen><verb>
device cy0 at isa? tty irq 10 iomem 0xd4000 iosiz 0x2000 vector cyintr
</verb></tscreen>

	      <item><ref id="kernelconfig:building" name="Rebuild and install"> 
		the new kernel.

	      <item>Make the <ref id="kernelconfig:nodes" name="device nodes">
		by typing (the following example assumes an 8-port board):

<tscreen><verb>
# cd /dev
# for i in 0 1 2 3 4 5 6 7;do ./MAKEDEV cuac$i ttyc$i;done
</verb></tscreen>

	      <item>If appropriate, add <ref id="dialup" name="dialup">
		entries to <ref id="dialup:ttys" name="/etc/ttys"> by 
		duplicating serial device (<tt>ttyd</tt>) entries and 
		using <tt>ttyc</tt> in place of <tt>ttyd</tt>.  For
		example:

<tscreen><verb>
ttyc0	"/usr/libexec/getty std.38400"	unknown	on insecure
ttyc1	"/usr/libexec/getty std.38400"	unknown	on insecure
ttyc2	"/usr/libexec/getty std.38400"	unknown	on insecure
[...]
ttyc7	"/usr/libexec/getty std.38400"	unknown	on insecure
</verb></tscreen>

	      <item>Reboot with the new kernel.

	    </enum>
