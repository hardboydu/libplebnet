<!-- $FreeBSD$ -->
<!-- The FreeBSD Japanese Documentation Project -->
<!-- Original revision: 1.9 -->

<sect><heading>ISDN<label id="isdn"></heading>

<p><em>最終更新: &a.wlloyd;</em>.
<p><em>訳: &a.kiroh;.<newline>11 December 1996.</em>

<p>ISDN 技術とハードウェアに関しては, 
<url url="http://alumni.caltech.edu/~dank/isdn/" name="Dan Kegel's
ISDN Page"> がよい参考になるでしょう. 

ISDN の導入手順は, 簡単にいって以下のようになります. 
<itemize>
<item>ヨーロッパ在住の方は, ISDN カードの節に進んでください. 

<item>ISDN を使って, インターネットプロバイダに(専用線は使用せず), ダ
イアルアップ接続しようとしている場合は, ターミナルアダプタの使用を考え
てみてください. この方法はもっとも柔軟性があり, プロバイダを変更した場
合の問題も少ないでしょう. 

<item>2つの LAN の間を接続しようする場合や, ISDN 専用線を使用する場合
には, スタンドアローンルータ/ブリッジの使用を勧めます. 

</itemize>

<p>どの方法を用いるかを決定するには, 費用が重要な要素になってきます. 
以下に, 最も安価な方法から, 高価な方法まで順に説明していきます. 

<sect1><heading>ISDN カード</heading>

<p><em>原著者:&a.hm;.</em>

<p>このセクションの記述は, ヨーロッパの ISDN ユーザにのみ有効です. 
サポートされているカードは, まだ北米の ISDN 標準には適合していないかもしれ
ません(?). 

<p>このコードは, まだ大部分が開発段階にあります. とくにドライバに関し
ては, 二つのメーカーのカードしかサポートしていません.
  
<p>PC ISDN カードは, ISDN の最大のバンド幅 128Kbs をサポートします. こ
れらのカードは, ISDN 機器のうちもっとも安価な部類に入ります. 

<p>FreeBSD 2.1.0 および 2.1.5 では, 初期の未完成の ISDN のためのコード
が /usr/src/gnu/isdn に含まれていますが, 古いバージョンのものですの
で使用しないでください. カーネルから ISDN をサポートしたい場合は, 
bisdn パッケージを入手してください. このコードは, FreeBSD 2.2 からメイ
ンソースツリーから削除されています.

<p>bisdn という ISDN パッケージが以下のURLから入手できます.
<htmlurl url="ftp://ftp.muc.ditec.de/isdn" name="ftp.muc.ditec.de">
FreeBSD 2.1R, FreeBSD-current, NetBSDがサポートされています.
最新のソースは, 上記のftpサーバの isdn ディレクトリから, 
bisdn-097.tar.gz という名前で入手できます.

以下のカードのドライバが存在します:
<itemize>
<item>EuroISDN (DSS1)および1TR6プロトコル用には, 現在すべての(passive) Teles
カードおよびそのクローンがサポートされています.
<item>Dr. Nauhaus - Niccy 1016
</itemize>

bisdn には, いくつかの制限があります. 
特に ISDN に関連する機能のうち, 以下の機能はサポートされません. 
<itemize>
<item>PPP はサポートされません.  raw hdlc のみです. すなわち, Cisco 製
など, ほとんどのスタンドアロンーンルータ等とは接続できません. 
<item>ブリッジングコントロールプロトコルはサポートされません. 
<item>複数のカードは同時に使用できません. 
<item>動的なバンド幅の変更はできません.
<item>チャンネルのバンドリングはできません.
</itemize>

majordomoによるメーリングリストが利用できます. 参加するには, 通常の 
majordomo リクエストを以下のメールアドレスまで送ってください.
<htmlurl url="mailto:isdn-request@muc.ditec.de"
name="isdn-request@muc.ditec.de">.

<sect1><heading>ISDN ターミナルアダプタ</heading>

<p>ターミナルアダプタ (TA) はISDN に対して, 通常の電話線に対するモデ
ムに相当するものです. 

<p>ほとんどの TA は, 標準のヘイズ AT コマンドセットを使用しているので, 
単にモデムと置き換えて使うことができます. 

TA は, 基本的にはモデムと同じように動作しますが, 接続方法は異なり, 通
信速度も古いモデムよりはるかに速くなります. <ref id="ppp" name="PPP"> 
の設定を, モデムの場合と同じように行ってください. とくにシリアル速度を
使用できる最高速度に設定するのを忘れないでください. 

プロバイダへの接続に TA を使用する最大のメリットは, 動的 PPP を行える
ことです. 最近 IP アドレスが不足してきているため, ほとんどのプロバイダ
は, 専用の IP アドレスを割り当てないようになっています. ほとんどのスタ
ンドアローンルータは, 動的 IP アドレスに対応していません. 

訳注: 最近の ISDN ルータでは, IP アドレスの動的割り当てに対応している
ものも多いようです. ただし制限がある場合もありますので, 詳しくはメーカ
に問い合わせてください. 

TA を使用した場合の機能や接続の安定性は, 使用している PPP デーモンに完
全に依存します. そのため, FreeBSD で PPP の設定が完了していれば, 使用
している既存のモデムを ISDN の TA に簡単にアップグレードすることができ
ます. ただし, それまでの PPP のプログラムに問題があった場合, その問題
は TA に置き換えてもそのまま残ります. 

最高の安定性を求めるのであれば, ユーザープロセス<ref id="userppp"
name="iijPPP"> ではなく, カーネル<ref id="ppp" name="PPP">を使用してく
ださい. 

<p>以下の TA は, FreeBSD で動作確認ずみです. 

<itemize>
<item>Motorola BitSurfer および Bitsurfer Pro
<item>Adtran
</itemize>

他の TA もほとんどの場合うまく動作するでしょう. TA のメーカーでは, TA 
がほとんどの標準モデム AT コマンドセットを受け付けるようにするよう, 努
力しているようです. 

外部 TA を使う際の最大の問題点は, モデムの場合と同じく良いシリアルカー
ドが必要であるということです. 

シリアルデバイスの詳細, そして非同期シリアルポートと同期シリアルポート
の差については, ハンドブックの<ref id="uart" name="シリアルポート"> の
節を参照してください. 

標準の PC シリアルポート(非同期)に接続された TA は, 128Kbs の接続を行っ
ていても, 最大通信速度が 115.2Kbs に制限されてしまいます. 128Kbs の 
ISDN の性能を最大限に生かすためには, TA を同期シリアルカードに接続しな
ければなりません. 

内蔵 TA を購入して, 同期／非同期問題を片付けてしまおうとは思わないでく
ださい. 内蔵 TA には, 単に標準 PC シリアルポートのチップが内蔵されてい
るだけです. 内蔵 TA の利点といえば, シリアルケーブルを買わなくていいと
いうことと, 電源コンセントが一つ少なくて済むということくらいでしょう. 

同期カードと TA の組合せは 386 の FreeBSD マシンの場合でも, スタンドア
ローンのルータと同程度の速度は確保できます. またこの組合せでは, ルータ
より柔軟な設定が可能です. 

同期カード/TA を選ぶか, スタンドアローンルータを選ぶかは, 多分に宗教的
な問題です. メーリングリストでもいくつか議論がありました. 議論の内容に
ついては, <url url="http://www.freebsd.org/search.html" name="archives">
を参照してください. 

<sect1><heading>スタンドアローン ISDN ブリッジ/ルータ</heading>

<p>ISDN ブリッジやルータは, OS 特有のものではありません. もちろん 
FreeBSD 特有のものでもありません. ルーティングやブリッジング技術に関す
る詳細は, ネットワークの参考書をご覧ください. 

このページでは, ルータとブリッジにどちらでもあてはまるように記述します. 

<p>ISDN ルータ/ブリッジは, ローエンドの製品のコストが下がってきている
こともあり, より一般的に使用されるようになるでしょう. ISDN ルータは, 
外見は小さな箱で, ローカルのイーサネットネットワーク(もしくはカード)と
直接, 接続します. また, 自身で他のブリッジ/ルータとの接続を制御します. 
PPP や他のプロトコルを使用するためのソフトウェアは, すべて組み込まれて
います. 

ルータは, 完全な同期 ISDN 接続を使用するため, 通常の TA と比較してスルー
プットが大幅に向上します. 

ISDN ルータ/ブリッジを使用する場合の最大の問題点は, 各メーカーの製品間
に相性の問題がまだ存在することです. インターネットプロバイダとの接続を
考えている場合には, プロバイダと相談することをお勧めします. 

<p>事務所の LAN と家庭の LAN の間など, 二つの LAN セグメントの間を接続
しようとしている場合は, ブリッジ/ルータの使用がもっともメンテナンスが
簡単で, 努力が少なくてすむ方法です. 両側の機材を購入するのであれば, メー
カー間の接続性の問題もないでしょう. 

たとえば家庭の LAN や出張所の LAN を本社のネットワークに接続するために
は, 以下のような設定が使用できます. 

<em>出張所 LAN または 家庭 LAN</em>

ネットワークは, 10 Base T イーサネットです. ルータとネットワークの間は, 
必要に応じて AUI/10BT トランシーバを使って接続します. 

<verb>
---Sun ワークステーション
|
---FreeBSD マシン
|
---Windows 95 (別に勧めているわけじゃありません)
|
スタンドアローンルータ
   |
ISDN BRI ライン
</verb>
家庭/出張所 LAN で, 一台しかコンピュータを接続しないのであれば, クロス
のツイストペアケーブルを使用して, スタンドアローンルータと直結も可能で
す. 

<em>本社 LAN や他の LAN</em> 

ネットワークは, ツイストペアイーサネットです. 
<verb>
    -------Novell サーバ
    | 	|
    |ハ	---Sun      
    |	|
    | 	---FreeBSD
    |	|
    |ブ	---Windows 95
    | 	|
    |___---スタンドアローンルータ
		|
       	ISDN BRI ライン
</verb> 

ほとんどのルータ/ブリッジでは, 別々の二つのサイトに対して, 同時にそれ
ぞれ独立した二つの PPP 接続が可能です. これは, 通常の TA ではサポート
されない機能で, ルータ/ブリッジ接続の大きな利点です (シリアルポートを
二つもつ特殊(そして高価な) TA では可能です). チャンネル割り当てや MPP 
などと混同しないでください.

これは, 大変便利な機能です. たとえば事務所で専用線インターネット ISDN 
接続を使用していて, 別の ISDN ラインを購入したくないとします. この場合, 
事務所のルータは, 一つの専用線 B チャンネル接続(64Kbs)を維持しつつ, 別
の B チャンネルを他の用途に使用することができます. たとえば, 他の場所
とのダイアルイン, ダイアルアウトに使用したり, バンド幅を増やすために, 
インターネットとの接続への動的に割り当て(MPP など)に使用したりすること
が可能です.

<p>またイーサネットブリッジは, IP パケットだけでなく IPX/SPX などすべての
プロトコルのパケットを中継することが可能です. </p>
