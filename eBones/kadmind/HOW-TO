This directory was created from eBones by the following procedure:

1) Get the files listed in the Makefile

2) perl -spi.bak -e 's/\$(Header[^\$]*)\$/$1/g'

3) Apply the patch listed below.

diff -rc2 ../kadmind.orig/admin_server.c ./admin_server.c
*** ../kadmind.orig/admin_server.c      Thu Jan 19 18:04:04 1995
--- ./admin_server.c    Thu Jan 19 21:58:51 1995
***************
*** 1,10 ****
  /*
-  * $Source: /afs/athena.mit.edu/astaff/project/kerberos/src/kadmin/RCS/admin_server.c,v $
-  * $Author: jtkohl $
-  *
   * Copyright 1988 by the Massachusetts Institute of Technology.
   *
   * For copying and distribution information, please see the file
!  * <mit-copyright.h>.
   *
   * Top-level loop of the kerberos Administration server
--- 1,7 ----
  /*
   * Copyright 1988 by the Massachusetts Institute of Technology.
   *
   * For copying and distribution information, please see the file
!  * Copyright.MIT.
   *
   * Top-level loop of the kerberos Administration server
***************
*** 12,20 ****
  
  #ifndef       lint
  static char rcsid_admin_server_c[] =
! "$Id: admin_server.c,v 4.8 90/01/02 13:50:38 jtkohl Exp $";
  #endif        lint
  
- #include <mit-copyright.h>
  /*
    admin_server.c
--- 9,20 ----
  
  #ifndef       lint
+ #if 0
  static char rcsid_admin_server_c[] =
! "Id: admin_server.c,v 4.8 90/01/02 13:50:38 jtkohl Exp ";
! #endif
! static const char rcsid[] =
!       "$Id";
  #endif        lint
  
  /*
    admin_server.c
***************
*** 389,393 ****
--- 389,397 ----
      register int i, j;
  
+ #ifdef POSIX
+     int status;
+ #else
      union wait status;
+ #endif
  
      pid = wait(&status);
***************
*** 400,406 ****
                pidarray[j] = pidarray[j+1];
            pidarraysize--;
!           if (status.w_retcode || status.w_coredump || status.w_termsig)
                log("child %d: termsig %d, coredump %d, retcode %d", pid,
!                   status.w_termsig, status.w_coredump, status.w_retcode);
  #ifdef POSIX
            return;
--- 404,410 ----
                pidarray[j] = pidarray[j+1];
            pidarraysize--;
!           if (WEXITSTATUS(status) || WCOREDUMP(status) || WIFSIGNALED(status))
                log("child %d: termsig %d, coredump %d, retcode %d", pid,
!                   WTERMSIG(status), WCOREDUMP(status), WEXITSTATUS(status));
  #ifdef POSIX
            return;
***************
*** 410,414 ****
        }
      log("child %d not in list: termsig %d, coredump %d, retcode %d", pid,
!       status.w_termsig, status.w_coredump, status.w_retcode);
  #ifdef POSIX
      return;
--- 414,418 ----
        }
      log("child %d not in list: termsig %d, coredump %d, retcode %d", pid,
!       WTERMSIG(status), WCOREDUMP(status), WEXITSTATUS(status));
  #ifdef POSIX
      return;
Only in .: admin_server.c~
diff -rc2 ../kadmind.orig/kadm_funcs.c ./kadm_funcs.c
*** ../kadmind.orig/kadm_funcs.c        Thu Jan 19 18:04:04 1995
--- ./kadm_funcs.c      Thu Jan 19 21:56:31 1995
***************
*** 1,10 ****
  /*
-  * $Source: /afs/athena.mit.edu/astaff/project/kerberos/src/kadmin/RCS/kadm_funcs.c,v $
-  * $Author: jon $
-  *
   * Copyright 1988 by the Massachusetts Institute of Technology.
   *
   * For copying and distribution information, please see the file
!  * <mit-copyright.h>.
   *
   * Kerberos administration server-side database manipulation routines
--- 1,7 ----
  /*
   * Copyright 1988 by the Massachusetts Institute of Technology.
   *
   * For copying and distribution information, please see the file
!  * Copyright.MIT
   *
   * Kerberos administration server-side database manipulation routines
***************
*** 12,20 ****
  
  #ifndef       lint
  static char rcsid_kadm_funcs_c[] =
! "$Id: kadm_funcs.c,v 4.3 90/03/20 01:39:51 jon Exp $";
  #endif        lint
  
- #include <mit-copyright.h>
  /*
  kadm_funcs.c
--- 9,20 ----
  
  #ifndef       lint
+ #if 0
  static char rcsid_kadm_funcs_c[] =
! "Id: kadm_funcs.c,v 4.3 90/03/20 01:39:51 jon Exp ";
! #endif
! static const char rcsid[] =
!       "$Id$";
  #endif        lint
  
  /*
  kadm_funcs.c
Only in .: kadm_funcs.c~
diff -rc2 ../kadmind.orig/kadm_ser_wrap.c ./kadm_ser_wrap.c
*** ../kadmind.orig/kadm_ser_wrap.c     Thu Jan 19 18:04:04 1995
--- ./kadm_ser_wrap.c   Thu Jan 19 21:59:15 1995
***************
*** 1,10 ****
  /*
-  * $Source: /afs/athena.mit.edu/astaff/project/kerberos/src/kadmin/RCS/kadm_ser_wrap.c,v $
-  * $Author: jtkohl $
-  *
   * Copyright 1988 by the Massachusetts Institute of Technology.
   *
   * For copying and distribution information, please see the file
!  * <mit-copyright.h>.
   *
   * Kerberos administration server-side support functions
--- 1,7 ----
  /*
   * Copyright 1988 by the Massachusetts Institute of Technology.
   *
   * For copying and distribution information, please see the file
!  * Copyright.MIT.
   *
   * Kerberos administration server-side support functions
***************
*** 16,20 ****
  #endif        lint
  
- #include <mit-copyright.h>
  /* 
  kadm_ser_wrap.c
--- 13,16 ----
Only in .: kadm_ser_wrap.c~
diff -rc2 ../kadmind.orig/kadm_server.c ./kadm_server.c
*** ../kadmind.orig/kadm_server.c       Thu Jan 19 18:04:04 1995
--- ./kadm_server.c     Thu Jan 19 21:59:31 1995
***************
*** 1,10 ****
  /*
-  * $Source: /afs/athena.mit.edu/astaff/project/kerberos/src/kadmin/RCS/kadm_server.c,v $
-  * $Author: jtkohl $
-  *
   * Copyright 1988 by the Massachusetts Institute of Technology.
   *
   * For copying and distribution information, please see the file
!  * <mit-copyright.h>.
   *
   * Kerberos administration server-side subroutines
--- 1,7 ----
  /*
   * Copyright 1988 by the Massachusetts Institute of Technology.
   *
   * For copying and distribution information, please see the file
!  * Copyright.MIT.
   *
   * Kerberos administration server-side subroutines
***************
*** 15,20 ****
  "Header: /afs/athena.mit.edu/astaff/project/kerberos/src/kadmin/RCS/kadm_server.c,v 4.2 89/09/26 09:30:23 jtkohl Exp ";
  #endif        lint
- 
- #include <mit-copyright.h>
  
  #include <kadm.h>
--- 12,15 ----
Only in .: kadm_server.c~
diff -rc2 ../kadmind.orig/kadm_server.h ./kadm_server.h
*** ../kadmind.orig/kadm_server.h       Thu Jan 19 18:04:05 1995
--- ./kadm_server.h     Thu Jan 19 18:06:36 1995
***************
*** 7,11 ****
   *
   * For copying and distribution information, please see the file
!  * <mit-copyright.h>.
   *
   * Definitions for Kerberos administration server & client
--- 7,11 ----
   *
   * For copying and distribution information, please see the file
!  * Copyright.MIT.
   *
   * Definitions for Kerberos administration server & client
***************
*** 15,19 ****
  #define KADM_SERVER_DEFS
  
- #include <mit-copyright.h>
  /*
   * kadm_server.h
--- 15,18 ----
***************
*** 25,30 ****
  
  #include <sys/types.h>
! #include <krb.h>
! #include <des.h>
  
  typedef struct {
--- 24,29 ----
  
  #include <sys/types.h>
! #include <kerberosIV/krb.h>
! #include <kerberosIV/des.h>
  
  typedef struct {
***************
*** 43,49 ****
  
  /* the default syslog file */
! #define KADM_SYSLOG  "/kerberos/admin_server.syslog"
  
! #define DEFAULT_ACL_DIR       "/kerberos"
  #define       ADD_ACL_FILE    "/admin_acl.add"
  #define       GET_ACL_FILE    "/admin_acl.get"
--- 42,48 ----
  
  /* the default syslog file */
! #define KADM_SYSLOG  "/var/log/kadmind.syslog"
  
! #define DEFAULT_ACL_DIR       "/etc/kerberosIV"
  #define       ADD_ACL_FILE    "/admin_acl.add"
  #define       GET_ACL_FILE    "/admin_acl.get"
